import{a as O,f as $}from"../chunks/c0rXTrr9.js";import"../chunks/BVQWgzXh.js";import{p as L,a as M,s as e,c as l,r as i,g as a,b as r,m,t as T}from"../chunks/yo6EL1wl.js";import{e as o}from"../chunks/BETbJ1jZ.js";import{i as D}from"../chunks/B0Lk4f_2.js";import{r as j,b as J,i as E,g as Q}from"../chunks/fWTGNQna.js";import{i as V}from"../chunks/B5x7G-5O.js";import{g as P}from"../chunks/DNDe-fJV.js";var W=$('<div class="fixed inset-0 bg-black/40 flex items-end justify-center"><div class="glass-card w-full rounded-t-3xl p-6 space-y-4 text-white"><h3 class="text-lg font-semibold">Create Bill</h3> <label class="block"><span class="text-sm text-surface-200">Your name</span> <input class="input w-full" placeholder="Alex"/></label> <label class="block"><span class="text-sm text-surface-200">Restaurant name</span> <input class="input w-full" placeholder="Dinner at Sora"/></label> <div class="flex gap-3"><button class="btn btn-outline w-full">Cancel</button> <button class="btn btn-primary w-full">Start</button></div></div></div>'),X=$('<div class="fixed inset-0 bg-black/40 flex items-end justify-center"><div class="glass-card w-full rounded-t-3xl p-6 space-y-4 text-white"><h3 class="text-lg font-semibold">Join Bill</h3> <label class="block"><span class="text-sm text-surface-200">Bill code</span> <input class="input w-full uppercase" placeholder="AB12CD"/></label> <label class="block"><span class="text-sm text-surface-200">Your name</span> <input class="input w-full" placeholder="Alex"/></label> <div class="flex gap-3"><button class="btn btn-outline w-full">Cancel</button> <button class="btn btn-primary w-full">Join</button></div></div></div>'),Z=$('<div class="min-h-screen flex flex-col bg-surface-900 text-surface-50"><header class="p-6"><div class="accent-gradient rounded-3xl p-6 shadow-2xl text-center"><h1 class="text-3xl font-semibold text-white">Themepark Split</h1> <p class="text-white/80 mt-2">AI powered multiplayer bill splitting.</p></div></header> <main class="flex-1 px-6 pb-24 space-y-4"><div class="glass-card rounded-3xl p-6 space-y-3 text-center cursor-pointer hover:border-primary-400/60 transition" role="button" tabindex="0"><h2 class="text-xl font-semibold text-white">Create a new bill</h2> <p class="text-surface-200">Start a shared bill and invite your crew.</p> <button class="btn btn-primary w-full">Create Bill</button></div> <div class="glass-card rounded-3xl p-6 space-y-3 text-center cursor-pointer hover:border-primary-400/60 transition" role="button" tabindex="0"><h2 class="text-xl font-semibold text-white">Join an existing bill</h2> <p class="text-surface-200">Enter a bill code to jump in.</p> <button class="btn btn-secondary w-full">Join Bill</button></div></main> <!> <!></div>');function nt(Y,F){L(F,!1);let f=m(!1),v=m(!1),p=m(""),k=m(""),S=m(""),b=m("");const A=Q(),R=async()=>{const t=await fetch(`${A}/create-room`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a(p),bill_name:a(k)})});if(!t.ok)return;const s=await t.json(),n={userId:s.user_id,name:a(p),initials:E(a(p)),colorSeed:s.user_id.slice(0,6)};localStorage.setItem(`room:${s.room_code}:identity`,JSON.stringify(n)),P(`/room/${s.room_code}`)},U=async()=>{const t=await fetch(`${A}/join-room`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_code:a(S).toUpperCase(),name:a(b)})});if(!t.ok)return;const s=await t.json(),n={userId:s.user_id,name:a(b),initials:E(a(b)),colorSeed:s.user_id.slice(0,6)};localStorage.setItem(`room:${s.room_code}:identity`,JSON.stringify(n)),P(`/room/${s.room_code}`)};V();var B=Z(),N=e(l(B),2),x=l(N),q=e(l(x),4);i(x);var C=e(x,2),z=e(l(C),4);i(C),i(N);var I=e(N,2);{var G=t=>{var s=W(),n=l(s),c=e(l(n),2),_=e(l(c),2);j(_),i(c);var d=e(c,2),h=e(l(d),2);j(h),i(d);var y=e(d,2),w=l(y),g=e(w,2);i(y),i(n),i(s),T(()=>g.disabled=!a(p)||!a(k)),J(_,()=>a(p),u=>r(p,u)),J(h,()=>a(k),u=>r(k,u)),o("click",w,()=>r(f,!1)),o("click",g,R),O(t,s)};D(I,t=>{a(f)&&t(G)})}var H=e(I,2);{var K=t=>{var s=X(),n=l(s),c=e(l(n),2),_=e(l(c),2);j(_),i(c);var d=e(c,2),h=e(l(d),2);j(h),i(d);var y=e(d,2),w=l(y),g=e(w,2);i(y),i(n),i(s),T(()=>g.disabled=!a(S)||!a(b)),J(_,()=>a(S),u=>r(S,u)),J(h,()=>a(b),u=>r(b,u)),o("click",w,()=>r(v,!1)),o("click",g,U),O(t,s)};D(H,t=>{a(v)&&t(K)})}i(B),o("click",q,()=>r(f,!0)),o("click",x,()=>r(f,!0)),o("keydown",x,t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),r(f,!0))}),o("click",z,()=>r(v,!0)),o("click",C,()=>r(v,!0)),o("keydown",C,t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),r(v,!0))}),O(Y,B),M()}export{nt as component};
